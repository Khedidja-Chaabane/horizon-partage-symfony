<!-- Espace utilisateur au-dessus de la navigation -->
<div class="p-2 user-space">
	<div class="container-fluid d-flex justify-content-end align-items-center">
		{% if app.user %}
			<!-- Dropdown pour le profil utilisateur -->
			<div class="dropdown">
				<a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="dropdownUser" data-bs-toggle="dropdown" aria-expanded="false">
					{% if app.user.photoProfile %}
						<img src="{{ asset('images/user/' ~ app.user.photoProfile) }}" alt="Photo de profil" class="rounded-circle me-2 user-img">
					{% else %}
						<img src="{{ asset('images/default-profile-img.png') }}" alt="default-profile-img" class="rounded-circle me-2 user-img">
					{% endif %}
					<span class="bonjour">Bonjour
						{{ app.user.userName|capitalize }}</span>
				</a>
				<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUser">
					<li>
						<a class="dropdown-item" href="{{ path('app_profile') }}">Mon profil</a>
					</li>
					<li>
						<a class="dropdown-item" href="{{ path('app_logout') }}">Déconnexion</a>
					</li>
				</ul>
			</div>
		{% else %}
			<!-- Bloc pour les utilisateurs non connectés -->
			<div class="d-flex align-items-center">
				<a class="nav-link top-link {% if app.request.get('_route') == 'app_register' %}active{% endif %}" aria-current="page" href="{{ path('app_register')}}">
					Inscription
				</a>
				|
				<a class="nav-link top-link {% if app.request.get('_route') == 'app_login' %}active{% endif %}" aria-current="page" href="{{ path('app_login')}}">
					Connexion
				</a>
				
			</div>
		{% endif %}
	</div>
</div>

<nav class="navbar navbar-expand-lg bg-white sticky-top">
	<div class="container-fluid">
		<a class="navbar-brand" href="{{ path('app_home') }}">
			<img src="{{ asset('images/logoWhite.png') }}" alt="Logo">
		</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav me-auto">
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_home' %}active{% endif %}" aria-current="page" href="{{ path('app_home')}}">
						<i class="bi bi-house"></i>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'about' %}active{% endif %}" aria-current="page" href="{{ path('about')}}">Qui sommes nous ?</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_actions' %}active{% endif %}" href="{{ path('app_actions')}}">Nos actions</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_annonces' %}active{% endif %}" href="{{ path('app_annonces')}}">Agir avec nous</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'dons' %}active{% endif %}" href="{{ path('dons')}}">Nous soutenir</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_infos' %}active{% endif %}" href="{{ path('app_infos')}}">Infos</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_forum' %}active{% endif %}" href="{{ path('app_forum')}}">Forum</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'contribution' %}active{% endif %}" href="{{ path('contribution')}}">Contribution</a>
				</li>
				<li class="nav-item">
					<a class="nav-link {% if app.request.get('_route') == 'app_contact' %}active{% endif %}" href="{{ path('app_contact')}}">Contact</a>
				</li>
				{% if app.user and is_granted('ROLE_ADMIN') %}
					<li class="nav-item">
						<a class="nav-link {% if app.request.get('_route') == 'app_admin' %}active{% endif %}" href="{{ path('app_admin')}}">Dashboard</a>
					</li>
				{% endif %}
			</ul>

		</div>
	</div>
</nav>
